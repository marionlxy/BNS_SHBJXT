<div class="layer">
  <form id="codegroupform" class="codegroupform" method="post" action="${ctxPath!}/pt/bascodegroup/saveBasCodeGroup">
    <input type="hidden" value="" name="id" />
    <table class="EditTable" width="100%">
    		<tbody>
    		<tr class="FormData">   			
    						
			</tr>
    
    		
			<tr class="FormData">
				<td class="CaptionTD">代码组名称:</td>
				<td class="DataTD width-100" colspan="3"><input  type="text" name="codeGroupName" datatype="*" nullmsg="请输入代码组名称！" 	ajaxurl="${ctxPath!}/pt/bascodegroup/validCodeGroupName" value="" />
				</td>
			</tr>
	
				<tr class="FormData">
				<td class="CaptionTD">数据源反射类地址:</td>
				<td class="DataTD width-100" colspan="3"><input  type="text" name="pefPass" ajaxurl="" value="" />
				</td>
			</tr>
			
			<tr class="FormData">
				<td class="CaptionTD ">是否启用:</td>
				<td class="" colspan="1">
							<input id="state"  name="state" type="checkbox" value="0" checked/>启用							
				</td>
			</tr>
			
		
			<tr>
			<td> 
			</td>
			</tr>
			</tbody>
		
    </table>
   			<div class="clearfix" tag-save-btn style="bottom: 0px;left: 35%;position:absolute;">
		<input type="button" class="btn btn-primary btn-sm bigger-110"  id="model-save-form" value="确定"/>&nbsp;&nbsp;
		<input type="button"  class="btn btn-primary btn-sm bigger-110" id="model-save-cancel" value="取消"/>
		</div>
  </form>   
</div>


<!-- <div class="clearfix" tag-save-btn style="bottom: 0px;left: 35%;position:absolute;">
	<input type="submit" class="btn btn-primary btn-sm bigger-110"  id="model-save-form" >确定</span>&nbsp;&nbsp;
	<span class="btn btn-primary btn-sm bigger-110" id="model-save-cancel">
		取消
	</span>
</div> -->
<script type="text/javascript">


$(function(){
 
 	//方法一;
 	var index=layer.index;
	$("#codegroupform").Validform({
		 btnSubmit:"#model-save-form", 
		ajaxPost:true,
		tiptype : 4,
        beforeSubmit:function(curform){
            var loadi = layer.load(5,2);
            $("#codegroupform").data('loadi',loadi);
        },
        tiptype : function(msg, o, cssctl) {
            if (!o.obj.is("form")) {
                if (o.type != 2) {
                    tip.errorTip(msg,o.obj);
                }
            }
        },
        tipSweep : true,
		callback:function(data){
			layer.close($("#codegroupform").data('loadi'));
			if(data.code=="1"||data.code==1){
				layer.msg(data.msg, 1, 1,function(){
					//query();
					//var treeNodes = [{"id":1, "pId":0, "name":"test1"}];
				});
				layer.closeAll('page'); 
				refreshParentNode(0);
				//location.reload();
			}else{
				layer.msg(data.msg,3,1);
			}
		}
	});
       
    $("#model-save-cancel").click(function(){
        layer.closeAll();
    });
});

</script>

