<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.krm.voteplateform.web.menuwinconf.dao.BasMessageMapper">
	
	<sql id="BasMessageColumnList">
		ID, CODE, SYS_TEXT, COMM_TEXT, ENABLE_FLAG, DESCRIPTION, DEL_FLAG, 
		to_char(CREATE_TIME,'YYYY-MM-DD HH24:MI:SS') as CREATE_TIME,
		 CREATE_BY, to_char(UPDATE_TIME,'YYYY-MM-DD HH24:MI:SS') as UPDATE_TIME, UPDATE_BY
	</sql>
	
	<sql id="BasMessageColumnValueList">
		#{id},#{code},#{sysText},#{commText},#{enableFlag},#{description},
		#{delFlag},#{createTime},#{createBy},#{pdateTime},#{updateBy}
	</sql>
	
	<select id="finbasMessageAll" resultType="java.util.Map" parameterType="java.util.Map">
		select
		<include refid="BasMessageColumnList"/>
		 from ${tableName}_BAS_MESSAGE
		<where>
			ENABLE_FLAG='0'and
			DEL_FLAG='0'and
			CODE like'${massCodes}%' 
		</where>
	</select>
	<!-- 根据id查询每条提示信息的文本内容 -->
	<select id="upBasMessageText" resultType="com.krm.voteplateform.web.menuwinconf.model.BasMessage" parameterType="java.util.Map">
		select
		<include refid="BasMessageColumnList"/>
		from ${tableName}_BAS_MESSAGE
		<where>
			ID=#{id}
		</where>
	</select>
	
	
	<!-- 查询出Code相应的提示信息 -->
	<select id="findContionMessage" resultType="java.util.Map" parameterType="java.util.Map">
		select
		<include refid="BasMessageColumnList"/>
		from ${tableName}_BAS_MESSAGE
		<where>
		DEL_FLAG='0' and
		CODE=#{code}
		</where>
	</select>
	
</mapper>
